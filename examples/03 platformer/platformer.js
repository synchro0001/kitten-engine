(()=>{"use strict";class e{withFields(e){let n=Object.keys(this).map((n=>n in e?e[n]:this[n]));return new this.constructor(...n)}}class n{static fromArray(e,n){let t=n||new i;for(let n=e.length-1;n>=0;--n)t=new o(e[n],t);return t}[Symbol.iterator](){return new a(this)}toArray(){return[...this]}atLeastLength(e){for(let n of this){if(e<=0)return!0;e--}return e<=0}hasLength(e){for(let n of this){if(e<=0)return!1;e--}return 0===e}countLength(){let e=0;for(let n of this)e++;return e}}function t(e,n){return new o(e,n)}function s(e,t){return n.fromArray(e,t)}class a{#e;constructor(e){this.#e=e}next(){if(this.#e instanceof i)return{done:!0};{let{head:e,tail:n}=this.#e;return this.#e=n,{value:e,done:!1}}}}class i extends n{}class o extends n{constructor(e,n){super(),this.head=e,this.tail=n}}class r extends e{static isResult(e){return e instanceof r}}class c extends r{constructor(e){super(),this[0]=e}isOk(){return!0}}class l extends r{constructor(e){super(),this[0]=e}isOk(){return!1}}function u(e,n){return 0===n?0:e/n}function f(e,n,t,s,a,i){let o=new globalThis.Error(a);o.gleam_error=e,o.module=n,o.line=t,o.function=s,o.fn=s;for(let e in i)o[e]=i[e];return o}function d(e,n,t){return e?n:t()}function x(e){return e>=0?e:0-e}function h(e){return e.toString(16).toUpperCase()}function w(e,n){let t=y(n),s=(a=e,i=t,Math.trunc(u(a,i)));var a,i;let o=function(e,n){return 0===n?0:e%n}(e,t);return function(e,n,t){for(;;){let s=e;if(n<=0)return t;e=s,n-=1,t+=s}}(n,s,"")+function(e,n,t){if(t<0)return"";if(n<0){let s=y(e)+n;return s<0?"":v(e,s,t)}return v(e,n,t)}(n,0,o)}function p(e,n,t){let s=n-y(e);return s<=0?e:w(s,t)+e}function y(e){if(""===e)return 0;const n=g(e);if(n){let e=0;for(const t of n)e++;return e}return e.match(/./gsu).length}let m;function g(e){if(globalThis.Intl&&Intl.Segmenter)return m||=new Intl.Segmenter,m.segment(e)[Symbol.iterator]()}function v(e,n,t){if(t<=0||n>=e.length)return"";const s=g(e);if(s){for(;n-- >0;)s.next();let e="";for(;t-- >0;){const n=s.next().value;if(void 0===n)break;e+=n.segment}return e}return e.match(/./gsu).slice(n,n+t).join("")}new WeakMap,new DataView(new ArrayBuffer(8)),Math.pow(2,5),Symbol();const L=[" ","\t","\n","\v","\f","\r","Â…","\u2028","\u2029"].join("");function E(e){return Math.round(e)}function b(e){return function(e,n){for(;;){let s=e,a=n;if(s.hasLength(0))return a;{let i=s.head;e=s.tail,n=t(i,a)}}}(e,s([]))}function k(e,n){return function(e,n,s){for(;;){let a=e,i=n,o=s;if(a.hasLength(0))return b(o);{let r=a.head;e=a.tail,n=i,s=t(i(r),o)}}}(e,n,s([]))}function M(e,n,t){for(;;){let s=e,a=n,i=t;if(s.hasLength(0))return a;{let o=s.head;e=s.tail,n=i(a,o),t=i}}}new RegExp(`^[${L}]*`),new RegExp(`[${L}]*$`);let A,K,S,N,D={},F={},P={x:0,y:0};function C(){const e=document.getElementById(A);K/S>=window.innerWidth/window.innerHeight?(e.width=window.innerWidth,N=window.innerWidth/K,e.height=S*N,e.style.top=(window.innerHeight-e.height)/2+"px",e.style.left="0px"):(e.height=window.innerHeight,N=window.innerHeight/S,e.width=K*N,e.style.top="0px",e.style.left=(window.innerWidth-e.width)/2+"px"),e.getContext("2d").imageSmoothingEnabled=!1}let B,I=[],R={},O=0;function $(e,n,t,s,a){function i(e,s){const a=e-O;if(a>16.6){B=a,t(s);const o=n(s);O=e,function(){for(const e in D)D[e]&=1;for(const e in F)F[e]&=1}(),requestAnimationFrame((e=>i(e,o)))}else requestAnimationFrame((e=>i(e,s)))}const o=document.getElementById(A);o.getContext("2d").imageSmoothingEnabled=!1,o.style.display="block",window.addEventListener("keydown",(e=>{D[e.code]=3})),window.addEventListener("keyup",(e=>{D[e.code]=4})),window.addEventListener("mousedown",(e=>{F[e.button]=3,P.x=e.clientX,P.y=e.clientY})),window.addEventListener("touchstart",(e=>{F[0]=3,P.x=e.touches[0].clientX,P.y=e.touches[0].clientY})),window.addEventListener("mouseup",(e=>{F[e.button]=4})),window.addEventListener("touchend",(e=>{F[0]=4})),window.addEventListener("mousemove",(e=>{P.x=e.clientX,P.y=e.clientY})),window.addEventListener("touchmove",(function(e){P.x=e.touches[0].clientX,P.y=e.touches[0].clientY}));const r=s.toArray().map(((e,n)=>new Promise((t=>{const s=new Image;s.onload=()=>{I[n]=s,t()},s.onerror=()=>{console.error(`Failed to load image ${n}`)},s.src=e})))),c=a.toArray().map((async(e,n)=>{if(e.endsWith(".js"))try{await async function(e,n){const t=await fetch(e),s=await t.text(),a=JSON.parse(s.replace(/\[,/g,"[null,").replace(/,,\]/g,",null]").replace(/,\s*(?=[,\]])/g,",null").replace(/([\[,]-?)(?=\.)/g,"$10").replace(/-\./g,"-0."),((e,n)=>null===n?void 0:n)),i=U(...a);R[n]=i,q[n]=1}(e,n)}catch(t){await async function(e,n){const t=await fetch(e),s=await t.text(),a=JSON.parse(s.replace(/\[,/g,"[null,").replace(/,,\]/g,",null]").replace(/,\s*(?=[,\]])/g,",null").replace(/([\[,]-?)(?=\.)/g,"$10").replace(/-\./g,"-0."),((e,n)=>null===n?void 0:n)),i=V(...a);R[n]=i,q[n]=0}(e,n)}else await async function(e,n){const t=await fetch(e),s=await t.arrayBuffer();R[n]=await H.decodeAudioData(s),q[n]=2}(e,n)}));Promise.all([Promise.all(r),Promise.all(c)]).then((()=>{const n=e();requestAnimationFrame((e=>i(e,n)))})).catch((e=>{console.error("Failed to start engine:",e)}))}function T(){return 60*B/1e3}const V=(e=1,n=.05,t=220,s=0,a=0,i=.1,o=0,r=1,c=0,l=0,u=0,f=0,d=0,x=0,h=0,w=0,p=0,y=1,m=0,g=0)=>{let v,L,E=2*Math.PI,b=c*=500*E/_**2,k=(0<h?1:-1)*E/4,M=t*=(1+2*n*Math.random()-n)*E/_,A=[],K=0,S=0,N=0,D=1,F=0,P=0,C=0;for(l*=500*E/_**3,h*=E/_,u*=E/_,f*=_,d=_*d|0,L=(s=99+_*s)+(m*=_)+(a*=_)+(i*=_)+(p*=_)|0;N<L;A[N++]=C)++P%(100*w|0)||(C=o?1<o?2<o?3<o?Math.sin((K%E)**3):Math.max(Math.min(Math.tan(K),1),-1):1-(2*K/E%2+2)%2:1-4*Math.abs(Math.round(K/E)-K/E):Math.sin(K),C=(d?1-g+g*Math.sin(2*Math.PI*N/d):1)*(0<C?1:-1)*Math.abs(C)**r*e*W*(N<s?N/s:N<s+m?1-(N-s)/m*(1-y):N<s+m+a?y:N<L-p?(L-N-p)/i*y:0),C=p?C/2+(p>N?0:(N<L-p?1:(L-N)/p)*A[N-p|0]/2):C),v=(t+=c+=l)*Math.sin(S*h-k),K+=v-v*x*(1-1e9*(Math.sin(N)+1)%2),S+=v-v*x*(1-1e9*(Math.sin(N)**2+1)%2),D&&++D>f&&(t+=u,M+=u,D=0),!d||++F%d||(t=M,c=b,D=D||1);return A},W=.3,_=44100,H=new(window.AudioContext||webkitAudioContext),U=(e,n,t,s=125)=>{let a,i,o,r,c,l,u,f,d,x,h,w,p,y,m,g=0,v=[],L=[],E=[],b=0,k=0,M=1,A={},K=_/s*60>>2;for(;M;b++)v=[M=f=h=p=0],t.map(((s,h)=>{for(u=n[s][b]||[0,0,0],M|=!!n[s][b],m=p+(n[s][0].length-2-!f)*K,y=h==t.length-1,i=2,r=p;i<u.length+y;f=++i){for(c=u[i],d=i==u.length+y-1&&y||x!=(u[0]||0)|c,o=0;o<K&&f;o++>K-99&&d?w+=(w<1)/99:0)l=(1-w)*v[g++]/2||0,L[r]=(L[r]||0)-l*k+l,E[r]=(E[r++]||0)+l*k+l;c&&(w=c%1,k=u[1]||0,(c|=0)&&(v=A[[x=u[g=0]||0,c]]=A[[x,c]]||(a=[...e[x]],a[2]*=2**((c-12)/12),c>0?V(...a):[])))}p=m}));return[L,E]};let q=[];class X extends e{constructor(e,n,t,s){super(),this.r=e,this.g=n,this.b=t,this.a=s}}function Y(e){return function(e){return"#"+p(h(e.r),2,"0")+p(h(e.g),2,"0")+p(h(e.b),2,"0")}(e)+p(h((n=255*e.a)>=0?E(n):0-E(function(e){return-1*e}(n))),2,"0");var n}const j=new X(0,0,0,1),J=new X(174,181,251,1);class Q extends e{constructor(e,n){super(),this.x=e,this.y=n}}function z(e,n){return new Q(e.x+n.x,e.y+n.y)}function G(e,n){return new Q(e.x-n.x,e.y-n.y)}function Z(e,n){return e.x*n.x+e.y*n.y}function ee(e){let n=(t=function(e){return e.x*e.x+e.y*e.y}(e),function(e,n){let t=(s=n,Math.ceil(s)-n>0);var s;return e<0&&t||0===e&&n<0?new l(void 0):new c(function(e,n){return Math.pow(e,n)}(e,n))}(t,.5));var t;if(!n.isOk())throw f("let_assert","kitten/vec2",110,"length","Pattern match failed, no pattern matched the value.",{value:n});return n[0]}function ne(e,n){return new Q(e.x*n,e.y*n)}function te(e){return e}class se extends e{constructor(e,n,t,s,a){super(),this.img_id=e,this.x=n,this.y=t,this.width=s,this.height=a}}function ae(e,n,t,s,a,i,o,r){return function(e,n,t,s,a,i,o,r,c){return e.fillStyle=c,e.textAlign="center",e.font=`${i} ${a}px ${o}`,e.save(),e.scale(1,-1),e.translate(t,-s),e.rotate(r),e.fillText(n,0,-0),e.restore(),e}(e,n,t.x,t.y,s,a,i,o,Y(r))}function ie(e,n,t,s,a){let i=function(e){return e>=0&&I.length-1>=e?[!0,I[e].width,I[e].height]:[!1,0,0]}(e);return i[0]&&n>=0&&t>=0&&s>=0&&a>=0&&n+s<=i[1]&&t+a<=i[2]?(i[1],i[2],new c(new se(e,n,t,s,a))):new l(void 0)}function oe(e,n,t,s,a){return function(e,n,t,s,a,i,o,r,c,l,u){return e.save(),e.scale(1,-1),e.translate(o,-r),e.rotate(u),e.drawImage(I[n],t,s,a,i,-c/2,-l/2,c,l),e.restore(),e}(e,n.img_id,n.x,n.y,n.width,n.height,t.x,t.y,s.x,s.y,a)}class re extends e{}class ce extends e{}class le extends e{}class ue extends e{}class fe extends e{}class de extends e{}class xe extends e{}class he extends e{}class we extends e{}class pe extends e{}class ye extends e{}class me extends e{}class ge extends e{}class ve extends e{}class Le extends e{}class Ee extends e{}class be extends e{}class ke extends e{}class Me extends e{}class Ae extends e{}class Ke extends e{}class Se extends e{}class Ne extends e{}class De extends e{}class Fe extends e{}class Pe extends e{}class Ce extends e{}class Be extends e{}class Ie extends e{}class Re extends e{}class Oe extends e{}class $e extends e{}class Te extends e{}class Ve extends e{}class We extends e{}class _e extends e{}class He extends e{}class Ue extends e{}class qe extends e{}class Xe extends e{}class Ye extends e{}class je extends e{}class Je extends e{}class Qe extends e{}class ze extends e{}class Ge extends e{}class Ze extends e{}class en extends e{}class nn extends e{}class tn extends e{}class sn extends e{}class an extends e{}class on extends e{}class rn extends e{}class cn extends e{}class ln extends e{}class un extends e{}class fn extends e{}class dn extends e{}class xn extends e{}class hn extends e{}class wn extends e{}class pn extends e{}class yn extends e{}class mn extends e{}class gn extends e{}class vn extends e{}class Ln extends e{}class En extends e{}class bn extends e{}class kn extends e{}class Mn extends e{}class An extends e{}class Kn extends e{}class Sn extends e{}class Nn extends e{}class Dn extends e{}class Fn extends e{}class Pn extends e{}class Cn extends e{}class Bn extends e{}class In extends e{}class Rn extends e{}class On extends e{}class $n extends e{}class Tn extends e{}class Vn extends e{}class Wn extends e{}class _n extends e{}class Hn extends e{}class Un extends e{}class qn extends e{}class Xn extends e{}class Yn extends e{}class jn extends e{}class Jn extends e{}class Qn extends e{}class zn extends e{}class Gn extends e{}class Zn extends e{}class et extends e{}class nt extends e{}class tt extends e{}class st extends e{}class at extends e{}class it extends e{}class ot extends e{}class rt extends e{}class ct extends e{}function lt(e){return e instanceof re?"":e instanceof ce?"KeyA":e instanceof le?"KeyB":e instanceof ue?"KeyC":e instanceof fe?"KeyD":e instanceof de?"KeyE":e instanceof xe?"KeyF":e instanceof he?"KeyG":e instanceof we?"KeyH":e instanceof pe?"KeyI":e instanceof ye?"KeyJ":e instanceof me?"KeyK":e instanceof ge?"KeyL":e instanceof ve?"KeyM":e instanceof Le?"KeyN":e instanceof Ee?"KeyO":e instanceof be?"KeyP":e instanceof ke?"KeyQ":e instanceof Me?"KeyR":e instanceof Ae?"KeyS":e instanceof Ke?"KeyT":e instanceof Se?"KeyU":e instanceof Ne?"KeyV":e instanceof De?"KeyW":e instanceof Fe?"KeyX":e instanceof Pe?"KeyY":e instanceof Ce?"KeyZ":e instanceof Be?"Space":e instanceof Re?"ArrowUp":e instanceof $e?"ArrowDown":e instanceof Ie?"ArrowLeft":e instanceof Oe?"ArrowRight":e instanceof Te?"Backspace":e instanceof Ve?"Tab":e instanceof We?"Enter":e instanceof _e?"ShiftLeft":e instanceof He?"ShiftRight":e instanceof Ue?"ControlLeft":e instanceof qe?"ControlRight":e instanceof Xe?"AltLeft":e instanceof Ye?"AltRight":e instanceof je?"Pause":e instanceof Je?"CapsLock":e instanceof Qe?"Escape":e instanceof ze?"PageUp":e instanceof Ge?"PageDown":e instanceof Ze?"End":e instanceof en?"Home":e instanceof nn?"PrintScreen":e instanceof tn?"Insert":e instanceof sn?"Delete":e instanceof an?"Digit0":e instanceof on?"Digit1":e instanceof rn?"Digit2":e instanceof cn?"Digit3":e instanceof ln?"Digit4":e instanceof un?"Digit5":e instanceof fn?"Digit6":e instanceof dn?"Digit7":e instanceof xn?"Digit8":e instanceof hn?"Digit9":e instanceof wn?"MetaLeft":e instanceof pn?"MetaRight":e instanceof yn?"ContextMenu":e instanceof mn?"Numpad0":e instanceof gn?"Numpad1":e instanceof vn?"Numpad2":e instanceof Ln?"Numpad3":e instanceof En?"Numpad4":e instanceof bn?"Numpad5":e instanceof kn?"Numpad6":e instanceof Mn?"Numpad7":e instanceof An?"Numpad8":e instanceof Kn?"Numpad9":e instanceof Sn?"NumpadMultiply":e instanceof Nn?"NumpadAdd":e instanceof Dn?"NumpadSubtract":e instanceof Fn?"NumpadDecimal":e instanceof Pn?"NumpadDivide":e instanceof Cn?"F1":e instanceof Bn?"F2":e instanceof In?"F3":e instanceof Rn?"F4":e instanceof On?"F5":e instanceof $n?"F6":e instanceof Tn?"F7":e instanceof Vn?"F8":e instanceof Wn?"F9":e instanceof _n?"F10":e instanceof Hn?"F11":e instanceof Un?"F12":e instanceof qn?"NumLock":e instanceof Xn?"ScrollLock":e instanceof Yn?"AudioVolumeMute":e instanceof jn?"AudioVolumeDown":e instanceof Jn?"AudioVolumeUp":e instanceof Qn?"LaunchMediaPlayer":e instanceof zn?"LaunchApplication1":e instanceof Gn?"LaunchApplication2":e instanceof Zn?"Semicolon":e instanceof et?"Equal":e instanceof nt?"Comma":e instanceof tt?"Minus":e instanceof st?"Period":e instanceof at?"Slash":e instanceof it?"Backquote":e instanceof ot?"BracketLeft":e instanceof rt?"Backslash":e instanceof ct?"BracketRight":"Quote"}function ut(e){return e instanceof re?function(){for(const e in D)if(1&D[e])return!0;return!1}():function(e){return!!(1&D[e])}(lt(e))}function ft(e){return e instanceof re?function(){for(const e in D)if(2&D[e])return!0;return!1}():function(e){return!!(2&D[e])}(lt(e))}class dt extends e{}class xt extends e{}function ht(e){return function(e){return!!(1&F[e])}(function(e){return e instanceof dt?0:e instanceof xt?1:2}(e))}function wt(){let e=function(){const e=document.getElementById(A),n=e.getBoundingClientRect(),t=n.left,s=n.top,a=e.getContext("2d").getTransform().invertSelf(),i=P.x-t,o=P.y-s;return[a.a*i+a.c*o+a.e,a.b*i+a.d*o+a.f]}();return new Q((n=e)[0],n[1]);var n}function pt(e,n,t,s){return 2*x(e.x-t.x)<=n.x+s.x&&2*x(e.y-t.y)<=n.y+s.y}function yt(e,n,t){return pt(e,new Q(0,0),n,t)}function mt(e,n){return z(ne(n,T()),e)}function gt(e,n,t){return z(ne(M(t,new Q(0,0),z),u(1,n)*T()),e)}class vt extends e{constructor(e){super(),this.textures=e}}class Lt extends e{constructor(e,n,t){super(),this.player=e,this.platforms=n,this.textures=t}}class Et extends e{constructor(e,n,t){super(),this.player=e,this.platforms=n,this.textures=t}}class bt extends e{constructor(e,n,t){super(),this.block=e,this.player=n,this.checkpoint=t}}class kt extends e{constructor(e,n){super(),this.pos=e,this.vel=n}}class Mt extends e{constructor(e){super(),this.pos=e}}class At extends e{constructor(e,n,t,s){super(),this.pos=e,this.dir=n,this.point1=t,this.point2=s}}function Kt(e){return new vt(e)}function St(e){return new Lt(new kt(new Q(-800,-300),new Q(0,0)),k(s([new Q(-800,-400),new Q(-600,-400),new Q(-400,-400),new Q(-200,-400),new Q(0,-400),new Q(200,-400),new Q(400,-250),new Q(600,-50),new Q(350,150),new Q(-50,150),new Q(-100,350),new Q(-400,0)]),(e=>new Mt(e))),e)}function Nt(e){return new Et(new kt(new Q(-600,50),new Q(0,0)),s([new Mt(new Q(-600,0)),new At(new Q(-200,0),-1,new Q(-300,0),new Q(-100,0)),new At(new Q(100,0),-1,new Q(0,0),new Q(200,0)),new At(new Q(400,0),-1,new Q(300,0),new Q(500,0))]),e)}const Dt=new Q(50,50),Ft=new Q(100,50);function Pt(e,n){let t=function(e,n){for(;;){let t=e,s=n;if(t.hasLength(0))return!1;{let a=t.head,i=t.tail;if(s(a))return!0;e=i,n=s}}}(n,(n=>pt(G(e.pos,new Q(0,1)),ne(Dt,.98),n.pos,Ft))),a=(()=>{let e=ut(new fe),n=ut(new ce);return e?5:n?-5:0})(),i=gt(new Q(a,e.vel.y),10,s([new Q(0,-5)]));return(ft(new De)&&t?e=>gt(e,1,s([new Q(0,15)])):te)(i)}function Ct(e,n){return a=M(n,[e,s([])],((e,n)=>{let s=e[0],a=e[1],i=((e,n)=>{let t=function(e,n,t,s){let a=e[0],i=e[1],o=e[2],r=e[3],c=n[0],l=n[1],f=n[2],h=n[3];return d(!pt(a,i,c,l),[[a,o],[c,f]],(()=>{let e=u(i.x+l.x,2)-x(a.x-c.x),n=u(i.y+l.y,2)-x(a.y-c.y),w=e<n?[e,(()=>{let e=a.x<c.x;return new Q(e?1:-1,0)})()]:[n,(()=>{let e=a.y<c.y;return new Q(0,e?1:-1)})()],p=w[0],y=w[1],m=0===r&&0===h?[a,c]:0===h?[G(a,ne(y,p)),c]:0===r?[a,z(c,ne(y,p))]:[G(a,ne(y,.5*p)),z(c,ne(y,.5*p))],g=m[0],v=m[1],L=G(f,o),E=Z(L,y);return d(E>0,[[a,o],[c,f]],(()=>{let e=u((-1-t)*E,u(1,r)+u(1,h)),n=ne(y,e),a=ne(n,u(1,r)),i=ne(n,u(1,h)),c=new Q(0-y.y,y.x),l=Z(L,c),d=ne(c,u(s*l,u(1,r)+u(1,h))),x=ne(d,u(1,r)),w=ne(d,u(1,h)),p=z(G(o,a),x),m=G(z(f,i),w);return[[g,p],[v,m]]}))}))}([e.pos,Dt,e.vel,1],[n.pos,Ft,new Q(0,0),0],0,0),s=t[0][0],a=t[0][1];return[new kt(s,a),n]})(s,n);return[i[0],t(i[1],a)]})),i=b,[a[0],i(a[1])];var a,i}function Bt(e){return k(e,(e=>{if(e instanceof Mt)return e;{let t=(()=>{let n=G(e.point2,e.point1);return ne(t=n,u(1,ee(t)));var t})(),s=(()=>{let n=e.dir,t=Z(G(e.point1,e.point2),G(e.pos,e.point2))<0,s=Z(G(e.point2,e.point1),G(e.pos,e.point1))<0;return 1===n&&t||-1===n&&s?0-e.dir:e.dir})(),a=(n=ne(t,1*s),mt(e.pos,n));return new At(a,s,e.point1,e.point2)}var n}))}const It=new Q(50,50),Rt=new Q(-600,100),Ot=new Q(800,0);!function(e,n,t,s,a,i,o,r){(function(e,n,t,s,a,i,o,r){document.body.style.margin="0",document.body.style.padding="0",document.body.style.overflow="hidden",document.documentElement.style.margin="0",document.documentElement.style.padding="0",document.documentElement.style.overflow="hidden",document.getElementById(s).style.position="absolute",A=s,K=a,S=i,C(),window.addEventListener("resize",(()=>C())),$(e,n,t,o,r)})(e,n,t,s,a,i,o,r)}((function(){let e=ie(0,0,0,16,8);if(!e.isOk())throw f("let_assert","platformer",58,"init","Pattern match failed, no pattern matched the value.",{value:e});let n=e[0],t=ie(0,16,0,8,8);if(!t.isOk())throw f("let_assert","platformer",59,"init","Pattern match failed, no pattern matched the value.",{value:t});let s=t[0],a=ie(0,24,0,8,8);if(!a.isOk())throw f("let_assert","platformer",60,"init","Pattern match failed, no pattern matched the value.",{value:a});let i=a[0];return Kt(new bt(n,s,i))}),(function(e){if(e instanceof vt){let n=e.textures,t=ht(new dt),s=yt(wt(),new Q(-200,0),new Q(300,300)),a=yt(wt(),new Q(200,0),new Q(300,300));return t&&(!t||s||a)?t&&s?St(n):Nt(n):e}if(e instanceof Lt){let n=e.player,t=e.platforms,s=e.textures,a=pt(n.pos,Dt,Rt,It),i=ft(new Qe);return i?Kt(s):a||i?Nt(s):function(e,n,t){return d(e.pos.y<-500,St(t),(()=>{let s=Ct(new kt(e.pos,Pt(e,n)),Bt(n)),a=s[0],i=s[1],o=(()=>{let e=mt(a.pos,a.vel);return new kt(e,a.vel)})();return new Lt(o,i,t)}))}(n,t,s)}{let n=e.player,t=e.platforms,s=e.textures,a=pt(n.pos,Dt,Ot,It),i=ft(new Qe);return i||a||i?Kt(s):function(e,n,t){return d(e.pos.y<-500,Nt(t),(()=>{let s=Ct(new kt(e.pos,Pt(e,n)),Bt(n)),a=s[0],i=s[1],o=(()=>{let e=mt(a.pos,a.vel);return new kt(e,a.vel)})();return new Et(o,i,t)}))}(n,t,s)}}),(function(e){let n=function(e,n){return e.canvas.style.backgroundColor=n,K&&(document.body.style.backgroundColor=n),e}(function(){const e=document.getElementById(A),n=e.getContext("2d");return n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),n.setTransform(1,0,0,-1,e.width/2,e.height/2),n.scale(N,N),n}(),Y(j));(()=>{if(e instanceof vt)return e=>{let n=ae(e,"MENU",new Q(0,200),100,300,"Arial",0,J),t=ae(n,"LEVEL 1",new Q(-200,0),80,200,"Arial",0,J);return ae(t,"LEVEL 2",new Q(200,0),80,200,"Arial",0,J)};if(e instanceof Lt){let n=e.player,t=e.platforms,s=e.textures;return e=>{let a=oe(e,s.player,n.pos,Dt,0),i=M(t,a,((e,n)=>oe(e,s.block,n.pos,Ft,0)));return oe(i,s.checkpoint,Rt,It,0)}}{let n=e.player,t=e.platforms,s=e.textures;return e=>{let a=oe(e,s.player,n.pos,Dt,0),i=M(t,a,((e,n)=>oe(e,s.block,n.pos,Ft,0)));return oe(i,s.checkpoint,Ot,It,0)}}})()(n)}),"canvas",1920,1080,s(["textures.png"]),s([]))})();